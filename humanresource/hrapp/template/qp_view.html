{% extends 'candidate_home.html'%}

{% block body %}

<script type="text/javascript">
    $('document').ready( () =>{
        $('.signupbtn').click( () =>{

          $.ajax({
            url:'http://127.0.0.1:8000/myapp/question_view/',
            type:'GET',
            data:{
              question:$('#question').html(res.question),
              option1:$('#option1').val(),
              option2:$('#option2').val(),
              option3:$('#option3').val(),
              option4:$('#option4').val()
            },
            success: res =>{
              $.toast({
                text:res,
                heading:'Note',
                icon: 'success',
                showHideTransition: 'fade',
                allowToastClose: true,
                hideAfter: 1500,
                stack: 5,
                position:'bottom-left',
                loader: true,
                loaderBg:'#9EC600'
              });
              $('#question').val();
              $('#option1').val();
              $('#option2').val();
              $('#option3').val();
              $('#option4').val()
              setTimeout(() =>{
                location.reload();
              }, 1500);
                        alert('success');
            },
            error: r =>{
              $.toast({
                text:r,
                heading:'Note',
                icon: 'error',
                showHideTransition: 'fade',
                allowToastClose: true,
                hideAfter: 3000,
                stack: 5,
                position:'bottom-left',
                loader: true,
                loaderBg:'#9EC600'
              });
            }
          });
          });
      });
  </script>

<form method="POST" action="/myapp/question_view/">
  {% csrf_token %}
   <div class="container">
    <h1>QUESTION</h1>
      <hr>
    <div class="form-group">
      <label>Question :</label>
      <textarea name="question" cols="50" rows="2" class="form-control" id="question">
        {{question.mock_question}}
      </textarea>
    </div>
    <div class="form-group">
      <label>Answer:</label><br>
      <input type="radio" name="answer" id="answer1" value="{{question.option1}}">
      <input type="text" name="option1" placeholder="option 1" class="form-control" value="{{question.option1}}">
      <input type="radio" name="answer" id="answer2" value="{{question.option2}}">
      <input type="text" name="option2" placeholder="option 2" class="form-control" value="{{question.option2}}">
      <input type="radio" name="answer" id="answer3" value="{{question.option3}}">
      <input type="text" name="option3" placeholder="option 3" class="form-control" value="{{question.option3}}">
      <input type="radio" name="answer" id="answer4" value="{{question.option4}}">
      <input type="text" name="option4" placeholder="option 4" class="form-control" value="{{question.option4}}">
    </div>
    <div class="clearfix">
          <button type="button" class="cancelbtn">Cancel</button>
         <button type="submit" class="signupbtn" id="#click">Next</button>
       </div>
  </div>
</form>
{% endblock %}